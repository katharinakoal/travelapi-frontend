<div class="container-fluid mt-4">
  <div class="btn-group mb-4" dropdown>
    <button dropdownToggle type="button" class="btn btn-secondary dropdown-toggle">
          {{destinationFilter ? destinationFilter.name : 'Demoziel auswählen'}}<span class="caret"></span>
        </button>
    <ul *dropdownMenu class="dropdown-menu" role="menu">
      <li role="menuitem"><a class="dropdown-item" (click)="destinationFilter=null">Alle</a>
      </li>
      <li class="divider dropdown-divider"></li>
      <li *ngFor="let destination of destinations" role="menuitem">
        <a class="dropdown-item" (click)="destinationFilter=destination">{{destination.name}}</a>
      </li>
    </ul>
  </div>
  <div class="input-group">
    <div class="input-group-addon">⚙️</div>
    <input type="text" [(ngModel)]="textFilter" class="form-control" placeholder="Tabelle individuell filtern">
  </div>
  <table class="table table-striped table-hover table-responsive">
    <thead>
      <tr>
        <th>Plz</th>
        <th>Abfahrtsort</th>
        <th>Verkehrsmittel</th>
        <th>Aktionsort</th>
        <th>Entfernung</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let travel of travels | filter:textFilter:destinationFilter | pagination:pager">
        <td>{{travel.postcode}}</td>
        <td>{{travel.city}}</td>
        <td>{{travel.transportation_mean.name}}</td>
        <td>{{travel.destination.name}}</td>
        <td>111</td>
      </tr>
    </tbody>
  </table>
  <div *ngIf="(travels | filter:textFilter:destinationFilter).length === 0" class="alert alert-danger" role="alert">
    Keine Fahrten gefunden
  </div>
  <nav>
    <ul *ngIf="pager.pages && pager.pages.length" class="pagination">
      <li class="page-item" [ngClass]="{disabled:pager.currentPage === 1}">
        <a class="page-link" (click)="setPage(1)">First</a>
      </li>
      <li class="page-item" [ngClass]="{disabled:pager.currentPage === 1}">
        <a class="page-link" (click)="setPage(pager.currentPage - 1)">Previous</a>
      </li>
      <li *ngFor="let page of pager.pages" class="page-item" [ngClass]="{active:pager.currentPage === page}">
        <a class="page-link" (click)="setPage(page)">{{page}}</a>
      </li>
      <li class="page-item" [ngClass]="{disabled:pager.currentPage === pager.totalPages}">
        <a class="page-link" (click)="setPage(pager.currentPage + 1)">Next</a>
      </li>
      <li class="page-item" [ngClass]="{disabled:pager.currentPage === pager.totalPages}">
        <a class="page-link" (click)="setPage(pager.totalPages)">Last</a>
      </li>
    </ul>
  </nav>
</div>